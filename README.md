# Алгоритмы исследования операций, лабораторная работа 2

## ТЗ:

Реализовать и сравнить алгоритмы для решения knapsack 0-1 problem.

1) 2-approx алгоритм.
2) ДП на весах или ДП на стоимостях (был выбран ДП на весах).
3) Метод ветвей и границ используя задачу LP или используя только 1 предмет (был выбран алгоритм используя 1 предмет).
4) PTAS или FPTAS (был выбран PTAS).

Необходимо сравнить время работы алгоритма, количество промежуточных решений и итоговый profit рюкзака.

## Структура файлов

- tests - тесты (в директориях тесты, в tests.py парсинг этих тестов)
- two_approx.py - реализация 2-approximation
- dp_on_weights.py - реализация ДП на весах
- ptas.py - реализация PTAS
- branch_and_bound.py - реализация алгоритма, используя 1 предмет на каждой итерации.
- main.py - запускает тестов и выводит метрики для каждого алгоритма.

## Итоги

|                                                 | p01                            | p02             | p03                | p04                   | p05                      | p06                   | p07                                           |
|:------------------------------------------------|:-------------------------------|:----------------|:-------------------|:----------------------|:-------------------------|:----------------------|:----------------------------------------------|
| Capacity                                        | 165                            | 26              | 190                | 50                    | 104                      | 170                   | 750                                           |
| Optimal profit                                  | 309                            | 51              | 150                | 107                   | 900                      | 1735                  | 1458                                          |
| Optimal choice                                  | [1, 1, 1, 1, 0, 1, 0, 0, 0, 0] | [0, 1, 1, 1, 0] | [1, 1, 0, 0, 1, 0] | [1, 0, 0, 1, 0, 0, 0] | [1, 0, 1, 1, 1, 0, 1, 1] | [0, 1, 0, 1, 0, 0, 1] | [1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 1, 1] |
| DP on weights profit                            | 309                            | 51              | 150                | 107                   | 900                      | 1735                  | 1458                                          |
| DP on weights weight                            | 165                            | 26              | 190                | 50                    | 104                      | 169                   | 749                                           |
| DP on weights choice                            | [1, 1, 1, 1, 0, 1, 0, 0, 0, 0] | [0, 1, 1, 1, 0] | [1, 1, 0, 0, 1, 0] | [1, 0, 0, 1, 0, 0, 0] | [1, 0, 1, 1, 1, 0, 1, 1] | [0, 1, 0, 1, 0, 0, 1] | [1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 1, 1] |
| DP on weights number of intermediate solutions  | 1826                           | 162             | 1337               | 408                   | 945                      | 1368                  | 12016                                         |
| DP on weights time                              | 0.00018                        | 1.8e-05         | 0.00013            | 4.8e-05               | 0.00011                  | 0.00014               | 0.0015                                        |
| 2-approx profit                                 | 309                            | 47              | 146                | 102                   | 858                      | 1478                  | 1441                                          |
| 2-approx weight                                 | 165                            | 23              | 179                | 48                    | 97                       | 140                   | 740                                           |
| 2-approx choice                                 | [1, 1, 1, 1, 0, 1, 0, 0, 0, 0] | [1, 1, 0, 0, 0] | [1, 1, 0, 1, 0, 0] | [1, 1, 0, 0, 1, 1, 0] | [1, 1, 0, 1, 1, 1, 1, 1] | [1, 1, 1, 0, 0, 0, 0] | [1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0] |
| 2-approx number of intermediate solutions       | 2                              | 2               | 2                  | 2                     | 2                        | 2                     | 2                                             |
| 2-approx time                                   | 3.3e-06                        | 1.4e-06         | 1.4e-06            | 1.6e-06               | 1.8e-06                  | 1.6e-06               | 3.2e-06                                       |
| PTAS approx profit                              | 309                            | 51              | 150                | 107                   | 900                      | 1735                  | 1448                                          |
| PTAS approx weight                              | 165                            | 26              | 190                | 50                    | 104                      | 169                   | 749                                           |
| PTAS approx choice                              | [1, 1, 1, 1, 0, 1, 0, 0, 0, 0] | [0, 1, 1, 1, 0] | [1, 1, 0, 0, 1, 0] | [1, 0, 0, 1, 0, 0, 0] | [1, 0, 1, 1, 1, 0, 1, 1] | [0, 1, 0, 1, 0, 0, 1] | [1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 1] |
| PTAS approx number of intermediate solutions    | 385                            | 30              | 56                 | 98                    | 162                      | 98                    | 1940                                          |
| PTAS approx time                                | 0.00032                        | 2.6e-05         | 4.9e-05            | 9.6e-05               | 0.00021                  | 9.2e-05               | 0.0033                                        |
| Branch and cut profit                           | 309                            | 51              | 150                | 107                   | 900                      | 1735                  | 1458                                          |
| Branch and cut weight                           | 165                            | 26              | 190                | 50                    | 104                      | 169                   | 749                                           |
| Branch and cut choice                           | [1, 1, 1, 1, 0, 1, 0, 0, 0, 0] | [0, 1, 1, 1, 0] | [1, 1, 0, 0, 1, 0] | [1, 0, 0, 1, 0, 0, 0] | [1, 0, 1, 1, 1, 0, 1, 1] | [0, 1, 0, 1, 0, 0, 1] | [1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 1, 1] |
| Branch and cut number of intermediate solutions | 456                            | 36              | 56                 | 32                    | 78                       | 160                   | 5600                                          |
| Branch and cut time                             | 0.00052                        | 4.5e-05         | 5.8e-05            | 3.9e-05               | 8.2e-05                  | 0.00019               | 0.0077                                        |
